<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Compara informaci√≥n actualizada de las mejores SOFIPOs en M√©xico por rendimiento y plazo. Aprende qu√© son, c√≥mo funcionan y cu√°l se adapta mejor a tus necesidades de inversi√≥n.">
  <title>SOFIPOs - De Cero al Infinito</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0NV8P41XXJ"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0NV8P41XXJ');
  </script>
</head>
<body>
  <div id="header-container"></div>
  <main class="container">
    <h1>Comparativa de SOFIPOs por Plazo y Rendimiento</h1>
    <p class="ultima-actualizacion">√öltima actualizaci√≥n: <span id="fecha-actualizacion"></span></p>

    <!-- üü° NUEVA ESTRUCTURA CON PESTA√ëAS -->
    <div class="table-container">
      <!-- Botones de pesta√±as -->
      <div class="tabs" id="tabs-sofipos">
        <button class="tab-btn active" data-tab="rendimientos">üí∞ Rendimientos</button>
        <button class="tab-btn" data-tab="indicadores">üìä Indicadores Financieros</button>
      </div>

      <!-- üìä Pesta√±a 1: Rendimientos -->
      <div class="tab-content active" id="tab-rendimientos">
        <table class="sofipos-table">
          <thead id="tabla-rendimientos-head"></thead>
          <tbody id="tabla-rendimientos-body"></tbody>
        </table>

        <div class="table-footnotes">
          <ol>
            <li>Las tasas est√°n expresadas en t√©rminos anuales nominales.</li>
            <li>Las tasas a la vista pueden estar sujetas a condiciones espec√≠ficas (por ejemplo, uso de tarjeta mensual).</li>
            <li>Los rendimientos no consideran impuestos ni retenciones.</li>
          </ol>
        </div>
      </div>

      <!-- üìà Pesta√±a 2: Indicadores Financieros -->
      <div class="tab-content" id="tab-indicadores">
        <table class="sofipos-table">
          <thead id="tabla-indicadores-head"></thead>
          <tbody id="tabla-indicadores-body"></tbody>
        </table>

        <div class="table-footnotes">
          <ol>
            <li><strong>NICAP:</strong> Nivel de capitalizaci√≥n de la SOFIPO, un indicador de solidez financiera.</li>
            <li><strong>Categor√≠as NICAP:</strong> Nivel 1 (‚â• 131%), Nivel 2 (‚â• 100% y < 131%), Nivel 3 (‚â• 56% y < 100%), Nivel 4 (< 56%).</li>
            <li><strong>IMOR:</strong> √çndice de morosidad, indica el porcentaje de cartera vencida sobre la cartera total.</li>
            <li><strong>Resultado Neto:</strong> Resultado contable del periodo, en millones de pesos.</li>
            <li>El seguro PROSOFIPO protege hasta por aproximadamente <span class="valor-prosofipo"></span> MXN.</li>
          </ol>
        </div>
      </div>
    </div>

    <section class="sofipo-info-grid">
      <h2 class="centered-text">¬øQu√© es una SOFIPO?</h2>

      <div class="info-grid">
        <!-- 1Ô∏è‚É£ Bloque: Qu√© son -->
        <div class="info-card">
          <i class="fas fa-university fa-2x"></i>
          <h3>Sociedades Financieras Populares</h3>
          <p>Son instituciones autorizadas y reguladas por la <strong>CNBV</strong> que fomentan el ahorro y otorgan cr√©ditos, ofreciendo mejores rendimientos que la banca tradicional.</p>
        </div>

        <!-- 2Ô∏è‚É£ Bloque: Supervisi√≥n -->
        <div class="info-card">
          <i class="fas fa-shield-alt fa-2x"></i>
          <h3>Reguladas y Supervisadas</h3>
          <p>Est√°n bajo la vigilancia de la <strong>CNBV</strong> y la <strong>CONDUSEF</strong>. Puedes verificarlas en el <a href="https://www.condusef.gob.mx" target="_blank">SIPRES</a>.</p>
        </div>

        <!-- 3Ô∏è‚É£ Bloque: Protecci√≥n -->
        <div class="info-card">
          <i class="fas fa-piggy-bank fa-2x"></i>
          <h3>Protecci√≥n al ahorro</h3>
          <p>Tu dinero est√° protegido por el <strong>Seguro PROSOFIPO</strong> hasta por <span class="valor-prosofipo"></span> MXN por persona y por instituci√≥n.</p>
        </div>

        <!-- 4Ô∏è‚É£ Bloque: Riesgo y diversificaci√≥n -->
        <div class="info-card">
          <i class="fas fa-chart-line fa-2x"></i>
          <h3>Solidez Financiera</h3>
          <p>Cada SOFIPO publica su <strong>NICAP</strong> (nivel de capitalizaci√≥n) e <strong>IMOR</strong> (√≠ndice de morosidad). Diversificar reduce el riesgo.</p>
        </div>
      </div>

      <p class="nota-final">
        Actualmente existen <strong>34 SOFIPOs</strong> autorizadas en operaci√≥n en M√©xico. En esta p√°gina comparamos sus rendimientos e indicadores financieros.
      </p>
    </section>

    <section class="sofipo-highlights-grid" id="sofipos-destacadas">
      <h2 class="centered-text">SOFIPOs destacadas en M√©xico</h2>
      <div id="contenedor-sofipos" class="sofipos-grid"></div>
    </section>

  </main>
  <div id="footer-container"></div>

<script src="js/funciones.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", async () => {
    // 1Ô∏è‚É£ Cargar header y footer comunes
    funciones.cargarComponentes();
    const data = await funciones.obtenerDatosJSON("data/inversiones.json");
    if (!funciones.validarEstructuraBase(data)) return;

    //Variables a nivel global
    await funciones.aplicarConfiguracionGlobal();

    // Inicializar sistema de pesta√±as
    funciones.inicializarTabs();

    const sofipos = funciones.filtrarPorTipo(data, "SOFIPO");

    // üìä Pesta√±a 1: Rendimientos
    funciones.renderizarTablaGeneral({
      data: sofipos,
      headId: "tabla-rendimientos-head",
      bodyId: "tabla-rendimientos-body",
      mostrarTipo: false,
      mostrarNICAP: false,
      mostrarIMOR: false,
      mostrarResultado: false,
      mostrarCarteraVig: false,
      mostrarRendimientos: true

    });

    // üìà Pesta√±a 2: Indicadores Financieros
    funciones.renderizarTablaGeneral({
      data: sofipos,
      headId: "tabla-indicadores-head",
      bodyId: "tabla-indicadores-body",
      mostrarTipo: false,
      mostrarNICAP: true,
      mostrarCategoriaNICAP: true,
      mostrarIMOR: true,
      mostrarResultado: true,
      mostrarCarteraVig: true,
      mostrarRendimientos: false
    });

    await funciones.renderizarSofiposDestacadas();

    const modos = {
    "NICAP (%)": "altoMejor",
    "IMOR (%)": "bajoMejor",
    "Resultado Neto (millones MXN)": "positivoMejor",
    Vista: "altoMejor",
    "1 mes": "altoMejor",
    "3 meses": "altoMejor",
    "6 meses": "altoMejor",
    "12 meses": "altoMejor"
    };
    // üìä Colores para rendimientos
    document.querySelectorAll(".tab-content .sofipos-table").forEach(tabla => {
      funciones.aplicarColoresPorNombre(`#${tabla.closest('.tab-content').id} .sofipos-table`, modos);
    });

  });
</script>
</body>
</html>
